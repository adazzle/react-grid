!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react/addons")):"function"==typeof define&&define.amd?define(["react/addons"],t):"object"==typeof exports?exports.ReactGrid=t(require("react/addons")):e.ReactGrid=t(e.React)}(this,function(e){return function(e){function t(o){if(s[o])return s[o].exports;var r=s[o]={exports:{},id:o,loaded:!1};return e[o].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var s={};return t.m=e,t.c=s,t.p="",t(0)}([function(e,t,s){e.exports={Grid:s(31),Editors:s(39),Formatters:s(41),Toolbar:s(42)}},function(t){t.exports=e},function(e){function t(){"use strict"}e.exports=t},function(e,t,s){"use strict";var o=s(1),r=(o.addons.Perf,{propTypes:{},onKeyDown:function(e){if(this.isCtrlKeyHeldDown(e))this.checkAndCall("onPressKeyWithCtrl",e);else if(this.isKeyIdentified(e.key)){var t="onPress"+e.key;this.checkAndCall(t,e)}else this.isKeyPrintable(e.keyCode)&&this.checkAndCall("onPressChar",e)},isKeyPrintable:function(e){var t=e>47&&58>e||32==e||13==e||e>64&&91>e||e>95&&112>e||e>185&&193>e||e>218&&223>e;return t},isKeyIdentified:function(e){return"Unidentified"!==e},isCtrlKeyHeldDown:function(e){return e.ctrlKey===!0&&"Control"!==e.key},checkAndCall:function(e,t){"function"==typeof this[e]&&this[e](t)}});e.exports=r},function(e,t,s){"use strict";function o(e){var t,s,o,r=0,i=e.totalWidth,l=[],a=e.columns.map(n);for(t=0,s=a.length;s>t;t++)o=a[t],o.width?(/^([0-9]+)%$/.exec(o.width.toString())&&(o.width=Math.floor(o.width/100*e.totalWidth)),i-=o.width,r+=o.width):l.push(o);for(t=0,s=l.length;s>t;t++)o=l[t],o.width=0>=i?e.minColumnWidth:Math.floor(i/l.length),r+=o.width;var c=0;for(t=0,s=a.length;s>t;t++)o=a[t],o.left=c,c+=o.width;return{columns:a,width:r,totalWidth:e.totalWidth,minColumnWidth:e.minColumnWidth}}function r(e,t,s){var r=e.columns[t];e=n(e),e.columns=e.columns.slice(0);var i=n(r);return i.width=Math.max(s,e.minColumnWidth),e.columns.splice(t,1,i),o(e)}function i(e,t,s){var o,r,i,n={},l={};if(e.length!==t.length)return!1;for(o=0,r=e.length;r>o;o++)i=e[o],n[i.key]=i;for(o=0,r=t.length;r>o;o++){i=t[o],l[i.key]=i;var a=n[i.key];if(void 0===a||!s(a,i))return!1}for(o=0,r=e.length;r>o;o++){i=e[o];var c=l[i.key];if(void 0===c)return!1}return!0}var n=s(8),l=(s(9),s(1).isValidElement,s(16));e.exports={calculate:o,resizeColumn:r,sameColumn:l,sameColumns:i}},function(e,t,s){"use strict";var o=s(1),r=s(7),i=s(8),n={metricsComputator:o.PropTypes.object},l={childContextTypes:n,getChildContext:function(){return{metricsComputator:this}},getMetricImpl:function(e){return this._DOMMetrics.metrics[e].value},registerMetricsImpl:function(e,t){var s={},o=this._DOMMetrics;for(var r in t){if(void 0!==o.metrics[r])throw new Error("DOM metric "+r+" is already defined");o.metrics[r]={component:e,computator:t[r].bind(e)},s[r]=this.getMetricImpl.bind(null,r)}return-1===o.components.indexOf(e)&&o.components.push(e),s},unregisterMetricsFor:function(e){var t=this._DOMMetrics,s=t.components.indexOf(e);if(s>-1){t.components.splice(s,1);var o,r={};for(o in t.metrics)t.metrics[o].component===e&&(r[o]=!0);for(o in r)delete t.metrics[o]}},updateMetrics:function(){var e=this._DOMMetrics,t=!1;for(var s in e.metrics){var o=e.metrics[s].computator();o!==e.metrics[s].value&&(t=!0),e.metrics[s].value=o}if(t)for(var r=0,i=e.components.length;i>r;r++)e.components[r].metricsUpdated&&e.components[r].metricsUpdated()},componentWillMount:function(){this._DOMMetrics={metrics:{},components:[]}},componentDidMount:function(){window.addEventListener?window.addEventListener("resize",this.updateMetrics):window.attachEvent("resize",this.updateMetrics),this.updateMetrics()},componentWillUnmount:function(){window.removeEventListener("resize",this.updateMetrics)}},a={contextTypes:n,componentWillMount:function(){if(this.DOMMetrics){this._DOMMetricsDefs=i(this.DOMMetrics),this.DOMMetrics={};for(var e in this._DOMMetricsDefs)this.DOMMetrics[e]=r}},componentDidMount:function(){this.DOMMetrics&&(this.DOMMetrics=this.registerMetrics(this._DOMMetricsDefs))},componentWillUnmount:function(){return this.registerMetricsImpl?void(this.hasOwnProperty("DOMMetrics")&&delete this.DOMMetrics):this.context.metricsComputator.unregisterMetricsFor(this)},registerMetrics:function(e){return this.registerMetricsImpl?this.registerMetricsImpl(this,e):this.context.metricsComputator.registerMetricsImpl(this,e)},getMetric:function(e){return this.getMetricImpl?this.getMetricImpl(e):this.context.metricsComputator.getMetricImpl(e)}};e.exports={MetricsComputatorMixin:l,MetricsMixin:a}},function(e,t,s){"use strict";var o=s(1),r=o.addons.classSet,i=s(11),n=o.addons.cloneWithProps,l=s(4),a=o.createClass({displayName:"Row",propTypes:{height:o.PropTypes.number.isRequired,columns:o.PropTypes.array.isRequired,row:o.PropTypes.object.isRequired,cellRenderer:o.PropTypes.func,isSelected:o.PropTypes.bool,idx:o.PropTypes.number.isRequired,expandedRows:o.PropTypes.arrayOf(o.PropTypes.object)},render:function(){var e=r("react-grid-Row","react-grid-Row--"+(this.props.idx%2===0?"even":"odd")),t={height:this.getRowHeight(this.props),overflow:"hidden"},s=this.getCells();return o.createElement("div",o.__spread({},this.props,{className:e,style:t}),o.isValidElement(this.props.row)?this.props.row:s)},getCells:function(){for(var e=[],t=[],s=0,o=this.props.columns.length;o>s;s++){var r=this.props.columns[s],i=this.renderCell({ref:s,key:s,idx:s,rowIdx:this.props.idx,filterRowIdx:this.props.row.key,value:this.getCellValue(r.key||s),column:r,height:this.getRowHeight(),formatter:r.formatter,cellMetaData:this.props.cellMetaData,rowData:this.props.row});r.locked?t.push(i):e.push(i)}return e.concat(t)},getRowHeight:function(){var e=this.props.expandedRows||null;if(e&&this.props.key){var t=e[this.props.key]||null;if(t)return t.height}return this.props.height},getCellValue:function(e){return"select-row"===e?this.props.isSelected:this.props.row[e]},renderCell:function(e){return"function"==typeof this.props.cellRenderer&&this.props.cellRenderer.call(this,e),o.isValidElement(this.props.cellRenderer)?n(this.props.cellRenderer,e):this.props.cellRenderer(e)},getDefaultProps:function(){return{cellRenderer:i,isSelected:!1,height:35}},setScrollLeft:function(e){for(var t=0,s=this.props.columns.length;s>t;t++)this.props.columns[t].locked&&this.refs[t].setScrollLeft(e)},doesRowContainSelectedCell:function(e){var t=e.cellMetaData.selected;return t&&t.rowIdx===e.idx?!0:!1},willRowBeDraggedOver:function(e){var t=e.cellRenderer.props.dragged;return null!=t&&(t.rowIdx||t.complete===!0)},hasRowBeenCopied:function(){var e=this.props.cellMetaData.copied;return null!=e&&e.rowIdx===this.props.idx},shouldComponentUpdate:function(e){return!l.sameColumns(this.props.columns,e.columns,l.sameColumn)||this.doesRowContainSelectedCell(this.props)||this.doesRowContainSelectedCell(e)||e.row!==this.props.row||this.hasRowBeenCopied()||e.height!==this.props.height}});e.exports=a},function(e,t,s){"use strict";function o(e){return function(){return e}}function r(){}var i=s(33);i(r,{thatReturns:o,thatReturnsFalse:o(!1),thatReturnsTrue:o(!0),thatReturnsNull:o(null),thatReturnsThis:function(){return this},thatReturnsArgument:function(e){return e}}),e.exports=r},function(e){"use strict";function t(e){var t={};for(var s in e)e.hasOwnProperty(s)&&(t[s]=e[s]);return t}e.exports=t},function(e){"use strict";function t(e,t){var s={};for(var o in e)s[o]=e[o];for(var o in t)s[o]=t[o];return s}var s=function(e,t){var s={};return null!=e&&Object.assign(s,e),null!=t&&Object.assign(s,t),s};e.exports=Object.assign?s:t},function(e){"use strict";function t(e,t){if(e===t)return!0;var s;for(s in e)if(e.hasOwnProperty(s)&&(!t.hasOwnProperty(s)||e[s]!==t[s]))return!1;for(s in t)if(t.hasOwnProperty(s)&&!e.hasOwnProperty(s))return!1;return!0}e.exports=t},function(e,t,s){"use strict";function o(e){return e.value}var r=s(1),i=r.addons.classSet,n=r.addons.cloneWithProps,l=s(30),a=s(2),c=r.createClass({displayName:"Cell",propTypes:{rowIdx:r.PropTypes.number.isRequired,idx:r.PropTypes.number.isRequired,selected:r.PropTypes.shape({idx:r.PropTypes.number.isRequired}),tabIndex:r.PropTypes.number,ref:r.PropTypes.string,column:r.PropTypes.shape(a).isRequired,value:r.PropTypes.oneOf(r.PropTypes.string,r.PropTypes.number,r.PropTypes.object).isRequired,isExpanded:r.PropTypes.bool,cellMetaData:r.PropTypes.shape({selected:r.PropTypes.object.isRequired,onCellClick:r.PropTypes.func}),handleDragStart:r.PropTypes.func,className:r.PropTypes.string},getDefaultProps:function(){return{tabIndex:-1,ref:"cell",isExpanded:!1}},componentDidMount:function(){this.checkFocus()},componentDidUpdate:function(){this.checkFocus();var e=this.props.dragged;e&&e.complete===!0&&this.props.handleTerminateDrag()},shouldComponentUpdate:function(e){return this.props.column.width!==e.column.width||this.props.value!==e.value||this.props.height!==e.height||this.props.rowIdx!==e.rowIdx||this.isCellSelectionChanging(e)},getStyle:function(){var e={position:"absolute",width:this.props.column.width,height:this.props.height,left:this.props.column.left};return e},render:function(){var e=this.getStyle(),t=this.getCellClass(),s=this.renderCellContent({value:this.props.value,column:this.props.column,rowIdx:this.props.rowIdx,isExpanded:this.props.isExpanded});return r.createElement("div",r.__spread({},this.props,{className:t,style:e,onClick:this.onCellClick}),s,r.createElement("div",{className:"drag-handle",draggable:"true",onDragStart:this.props.handleDragStart}))},renderCellContent:function(e){var t=this.getFormatter(),s=r.isValidElement(t)?n(t,e):t(e);return r.createElement("div",{className:"react-grid-Cell__value"},s," ",this.props.cellControls)},isSelected:function(){var e=this.props.cellMetaData;return null==e||null==e.selected?!1:e.selected&&e.selected.rowIdx===this.props.rowIdx&&e.selected.idx===this.props.idx},isActive:function(){var e=this.props.cellMetaData;return null==e||null==e.selected?!1:this.isSelected()&&e.selected.active===!0},isCellSelectionChanging:function(e){var t=this.props.cellMetaData;if(null==t||null==t.selected)return!1;var s=e.cellMetaData.selected;return t.selected&&s?this.props.idx===s.idx||this.props.idx===t.selected.idx:!0},getFormatter:function(){var e=this.props.column;return this.isActive()?r.createElement(l,{rowIdx:this.props.rowIdx,idx:this.props.idx,cellMetaData:this.props.cellMetaData,column:e,height:this.props.height}):this.props.column.formatter||o},onCellClick:function(){var e=this.props.cellMetaData;null!=e&&null!=e.onCellClick&&e.onCellClick({rowIdx:this.props.rowIdx,idx:this.props.idx})},checkFocus:function(){this.isSelected()&&!this.isActive()&&this.getDOMNode().focus()},getCellClass:function(){var e=i("react-grid-Cell",this.props.className,this.props.column.locked?"react-grid-Cell--locked":null),t=i({selected:this.isSelected()&&!this.isActive(),editing:this.isActive(),copied:this.isCopied()});return e+" "+t},setScrollLeft:function(e){var t=this;if(t.isMounted()){var s=this.getDOMNode(),o="translate3d("+e+"px, 0px, 0px)";s.style.webkitTransform=o,s.style.transform=o}},isCopied:function(){var e=this.props.cellMetaData.copied;return e&&e.rowIdx===this.props.rowIdx&&e.idx===this.props.idx}});e.exports=c},function(e,t,s){"use strict";var o=s(1),r=(o.addons.classSet,s(3),s(2)),i=o.createClass({displayName:"SimpleTextEditor",propTypes:{onKeyDown:o.PropTypes.func.isRequired,value:o.PropTypes.any.isRequired,onBlur:o.PropTypes.func.isRequired,column:o.PropTypes.shape(r).isRequired},getValue:function(){var e={};return e[this.props.column.key]=this.refs.input.getDOMNode().value,e},getInputNode:function(){return this.getDOMNode()},render:function(){return o.createElement("input",{ref:"input",type:"text",onBlur:this.props.onBlur,className:"form-control",defaultValue:this.props.value,onKeyDown:this.props.onKeyDown})}});e.exports=i},function(e){"use strict";function t(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=Object.assign||function(e){for(var s,o,r=t(e),i=1;i<arguments.length;i++){s=arguments[i],o=Object.keys(Object(s));for(var n=0;n<o.length;n++)r[o[n]]=s[o[n]]}return r}},function(e){function t(){}var s=e.exports={};s.nextTick=function(){var e="undefined"!=typeof window&&window.setImmediate,t="undefined"!=typeof window&&window.MutationObserver,s="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(e)return function(e){return window.setImmediate(e)};var o=[];if(t){var r=document.createElement("div"),i=new MutationObserver(function(){var e=o.slice();o.length=0,e.forEach(function(e){e()})});return i.observe(r,{attributes:!0}),function(e){o.length||r.setAttribute("yes","no"),o.push(e)}}return s?(window.addEventListener("message",function(e){var t=e.source;if((t===window||null===t)&&"process-tick"===e.data&&(e.stopPropagation(),o.length>0)){var s=o.shift();s()}},!0),function(e){o.push(e),window.postMessage("process-tick","*")}):function(e){setTimeout(e,0)}}(),s.title="browser",s.browser=!0,s.env={},s.argv=[],s.on=t,s.addListener=t,s.once=t,s.off=t,s.removeListener=t,s.removeAllListeners=t,s.emit=t,s.binding=function(){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(){throw new Error("process.chdir is not supported")}},function(e,t,s){"use strict";var o=s(1),r=o.addons.classSet,i=o.PropTypes,n=o.addons.cloneWithProps,l=s(10),a=s(7),c=s(24),u=s(6),p=s(2),h=o.createClass({displayName:"Canvas",mixins:[c],propTypes:{rowRenderer:i.oneOfType([i.func,i.element]),rowHeight:i.number.isRequired,height:i.number.isRequired,displayStart:i.number.isRequired,displayEnd:i.number.isRequired,totalRows:i.number.isRequired,rows:i.oneOfType([i.func.isRequired,i.array.isRequired]),onRows:i.func,columns:i.arrayOf(p).isRequired},render:function(){var e=this.state.displayStart,t=this.state.displayEnd,s=this.props.rowHeight,i=this.props.totalRows,n=this.getRows(e,t).map(function(t,o){return this.renderRow({key:e+o,ref:o,idx:e+o,row:t,height:s,columns:this.props.columns,isSelected:this.isRowSelected(e+o),expandedRows:this.props.expandedRows,cellMetaData:this.props.cellMetaData})}.bind(this));this._currentRowsLength=n.length,e>0&&n.unshift(this.renderPlaceholder("top",e*s)),i-t>0&&n.push(this.renderPlaceholder("bottom",(i-t)*s));var l={position:"absolute",top:0,left:0,overflowX:"auto",overflowY:"scroll",width:this.props.totalWidth,height:this.props.height,transform:"translate3d(0, 0, 0)"};return o.createElement("div",{style:l,onScroll:this.onScroll,className:r("react-grid-Canvas",this.props.className)},o.createElement("div",{style:{width:this.props.width,overflow:"hidden"}},n))},renderRow:function(e){return"function"==typeof this.props.rowRenderer?this.props.rowRenderer.call(this,e):o.isValidElement(this.props.rowRenderer)?n(this.props.rowRenderer,e):this.props.rowRenderer(e)},renderPlaceholder:function(e,t){return o.createElement("div",{key:e,style:{height:t}},this.props.columns.map(function(e,t){return o.createElement("div",{style:{width:e.width},key:t})}))},getDefaultProps:function(){return{rowRenderer:u,onRows:a}},isRowSelected:function(e){return this.props.selectedRows&&this.props.selectedRows[e]===!0},_currentRowsLength:0,_currentRowsRange:{start:0,end:0},_scroll:{scrollTop:0,scrollLeft:0},getInitialState:function(){return{shouldUpdate:!0,displayStart:this.props.displayStart,displayEnd:this.props.displayEnd}},componentWillMount:function(){this._currentRowsLength=0,this._currentRowsRange={start:0,end:0},this._scroll={scrollTop:0,scrollLeft:0}},componentDidMount:function(){this.onRows()},componentDidUpdate:function(){this._scroll!=={start:0,end:0}&&this.setScrollLeft(this._scroll.scrollLeft),this.onRows()},componentWillUnmount:function(){this._currentRowsLength=0,this._currentRowsRange={start:0,end:0},this._scroll={scrollTop:0,scrollLeft:0}},componentWillReceiveProps:function(e){var t=!(e.visibleStart>this.state.displayStart&&e.visibleEnd<this.state.displayEnd&&e.totalRows===this.props.totalRows&&e.rowHeight===this.props.rowHeight&&e.columns===this.props.columns&&e.width===this.props.width&&l(e.style,this.props.style));this.setState(t?{shouldUpdate:!0,displayStart:e.displayStart,displayEnd:e.displayEnd}:{shouldUpdate:!1})},shouldComponentUpdate:function(e,t){return!t||t.shouldUpdate},onRows:function(){this._currentRowsRange!=={start:0,end:0}&&(this.props.onRows(this._currentRowsRange),this._currentRowsRange={start:0,end:0})},getRows:function(e,t){return this._currentRowsRange={start:e,end:t},Array.isArray(this.props.rows)?this.props.rows.slice(e,t):this.props.rows(e,t)},setScrollLeft:function(e){if(0!==this._currentRowsLength)for(var t=0,s=this._currentRowsLength;s>t;t++)this.refs[t]&&this.refs[t].setScrollLeft(e)},getScroll:function(){var e=this.getDOMNode(),t=e.scrollTop,s=e.scrollLeft;return{scrollTop:t,scrollLeft:s}},onScroll:function(e){this.appendScrollShim();var t=e.target,s=t.scrollTop,o=t.scrollLeft,r={scrollTop:s,scrollLeft:o};this._scroll=r,this.props.onScroll(r)}});e.exports=h},function(e,t,s){var o=s(1).isValidElement;e.exports=function(e,t){var s;for(s in e)if(e.hasOwnProperty(s)){if("function"==typeof e[s]&&"function"==typeof t[s]||o(e[s])&&o(t[s]))continue;if(!t.hasOwnProperty(s)||e[s]!==t[s])return!1}for(s in t)if(t.hasOwnProperty(s)&&!e.hasOwnProperty(s))return!1;return!0}},function(e,t,s){function o(){"use strict"}var r=s(4),i=s(5);Object.assign=s(13);var n=s(1).PropTypes;e.exports={mixins:[i.MetricsMixin],propTypes:{columns:n.arrayOf(o),minColumnWidth:n.number,columnEquality:n.func},DOMMetrics:{gridWidth:function(){return this.getDOMNode().offsetWidth-2}},getDefaultProps:function(){return{minColumnWidth:80,columnEquality:r.sameColumn}},getInitialState:function(){return this.getColumnMetricsType(this.props,!0)},componentWillReceiveProps:function(e){if(e.columns)if(r.sameColumns(this.props.columns,e.columns,this.props.columnEquality)){var t={};this.state.columns.columns.forEach(function(e){t[e.key]={width:e.width,left:e.left}});var s=Object.assign(this.state.columns,{columns:e.columns.map(function(e){return Object.assign(e,t[e.key])})});this.setState({columns:s})}else this.setState(this.getColumnMetricsType(e))},getColumnMetricsType:function(e,t){var s=t?t:this.DOMMetrics.gridWidth();return{columns:r.calculate({columns:e.columns,totalWidth:s,minColumnWidth:e.minColumnWidth}),gridWidth:s}},metricsUpdated:function(){this.setState(this.getColumnMetricsType(this.props))},onColumnResize:function(e,t){var s=r.resizeColumn(this.state.columns,e,t);this.setState({columns:s})}}},function(e,t,s){"use strict";var o=s(1),r=o.PropTypes,i=s(7),n=o.createClass({displayName:"Draggable",propTypes:{onDragStart:r.func,onDragEnd:r.func,onDrag:r.func,component:r.oneOfType([r.func,r.constructor])},render:function(){var e=this.props.component;return o.createElement(e,o.__spread({},this.props,{onMouseDown:this.onMouseDown}))},getDefaultProps:function(){return{component:o.DOM.div,onDragStart:i.thatReturnsTrue,onDragEnd:i,onDrag:i}},getInitialState:function(){return{drag:null}},onMouseDown:function(e){var t=this.props.onDragStart(e);(null!==t||0===e.button)&&(window.addEventListener("mouseup",this.onMouseUp),window.addEventListener("mousemove",this.onMouseMove),this.setState({drag:t}))},onMouseMove:function(e){null!==this.state.drag&&(e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),this.props.onDrag(e))},onMouseUp:function(e){this.cleanUp(),this.props.onDragEnd(e,this.state.drag),this.setState({drag:null})},componentWillUnmount:function(){this.cleanUp()},cleanUp:function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove)}});e.exports=n},function(e,t,s){"use strict";var o=s(1),r=o.PropTypes,i=s(21),n=s(25),l=s(5),a=s(20),c=s(17),u=s(2),p=o.createClass({displayName:"Grid",mixins:[a,c,l.MetricsComputatorMixin],propTypes:{rows:r.oneOfType([r.array,r.func]).isRequired,columns:r.arrayOf(u).isRequired,minHeight:r.number,headerRows:r.oneOfType([r.array,r.func]),rowHeight:r.number,rowRenderer:r.func,expandedRows:r.oneOfType([r.array,r.func]),selectedRows:r.oneOfType([r.array,r.func]),totalRows:r.number,onRows:r.func,rowOffsetHeight:r.number.isRequired},getStyle:function(){return{overflow:"hidden",outline:0,position:"relative",minHeight:this.props.minHeight}},render:function(){var e=this.props.headerRows||[{ref:"row"}];return o.createElement("div",o.__spread({},this.props,{style:this.getStyle(),className:"react-grid-Grid"}),o.createElement(i,{ref:"header",columns:this.state.columns,onColumnResize:this.onColumnResize,height:this.props.rowHeight,totalWidth:this.DOMMetrics.gridWidth(),headerRows:e}),o.createElement(n,{ref:"viewport",width:this.state.columns.width,rowHeight:this.props.rowHeight,rowRenderer:this.props.rowRenderer,rows:this.props.rows,selectedRows:this.props.selectedRows,expandedRows:this.props.expandedRows,totalRows:this.props.totalRows||this.props.rows.length,columns:this.state.columns,totalWidth:this.DOMMetrics.gridWidth(),onScroll:this.onScroll,onRows:this.props.onRows,cellMetaData:this.props.cellMetaData,rowOffsetHeight:this.props.rowOffsetHeight||this.props.rowHeight*e.length}))},getDefaultProps:function(){return{rowHeight:35,minHeight:350}}});e.exports=p},function(e){e.exports={componentDidMount:function(){this._scrollLeft=this.refs.viewport.getScroll().scrollLeft,this._onScroll()},componentDidUpdate:function(){this._onScroll()},componentWillMount:function(){this._scrollLeft=void 0},componentWillUnmount:function(){this._scrollLeft=void 0},onScroll:function(e){this._scrollLeft!==e.scrollLeft&&(this._scrollLeft=e.scrollLeft,this._onScroll())},_onScroll:function(){void 0!==this._scrollLeft&&(this.refs.header.setScrollLeft(this._scrollLeft),this.refs.viewport.setScrollLeft(this._scrollLeft))}}},function(e,t,s){"use strict";var o=s(1),r=o.addons.classSet,i=s(8),n=s(4),l=s(23),a=o.createClass({displayName:"Header",propTypes:{columns:o.PropTypes.shape({width:o.PropTypes.number.isRequired}).isRequired,totalWidth:o.PropTypes.number,height:o.PropTypes.number.isRequired,headerRows:o.PropTypes.array.isRequired},render:function(){var e=(this.state.resizing||this.props,r({"react-grid-Header":!0,"react-grid-Header--resizing":!!this.state.resizing})),t=this.getHeaderRows();return o.createElement("div",o.__spread({},this.props,{style:this.getStyle(),className:e}),t)},shouldComponentUpdate:function(e,t){var s=!n.sameColumns(this.props.columns.columns,e.columns.columns,n.sameColumn)||this.props.totalWidth!=e.totalWidth||this.props.headerRows.length!=e.headerRows.length||this.state.resizing!=t.resizing;return s},getHeaderRows:function(){var e=this.state.resizing||this.props,t=[];return this.props.headerRows.forEach(function(s,r){var i={position:"absolute",top:this.props.height*r,left:0,width:this.props.totalWidth,overflow:"hidden"};t.push(o.createElement(l,{key:s.ref,ref:s.ref,style:i,onColumnResize:this.onColumnResize,onColumnResizeEnd:this.onColumnResizeEnd,width:e.columns.width,height:s.height||this.props.height,columns:e.columns.columns,resizing:e.column,headerCellRenderer:s.headerCellRenderer}))}.bind(this)),t},getInitialState:function(){return{resizing:null}},componentWillReceiveProps:function(){this.setState({resizing:null})},onColumnResize:function(e,t){var s=this.state.resizing||this.props,o=this.getColumnPosition(e);if(null!=o){var r={columns:i(s.columns)};r.columns=n.resizeColumn(r.columns,o,t),r.columns.totalWidth<s.columns.totalWidth&&(r.columns.totalWidth=s.columns.totalWidth),r.column=r.columns.columns[o],this.setState({resizing:r})}},getColumnPosition:function(e){var t=this.state.resizing||this.props,s=t.columns.columns.indexOf(e);return-1===s?null:s},onColumnResizeEnd:function(e,t){var s=this.getColumnPosition(e);null!==s&&this.props.onColumnResize&&this.props.onColumnResize(s,t||e.width)},setScrollLeft:function(e){var t=this.refs.row.getDOMNode();t.scrollLeft=e,this.refs.row.setScrollLeft(e)},getStyle:function(){return{position:"relative",height:this.props.height,overflow:"hidden"}}});e.exports=a},function(e,t,s){"use strict";function o(e){return r.createElement("div",{className:"widget-HeaderCell__value"},e.column.name)}var r=s(1),i=r.addons.classSet,n=s(18),l=r.PropTypes,a=s(2),c=r.createClass({displayName:"ResizeHandle",style:{position:"absolute",top:0,right:0,width:6,height:"100%"},render:function(){return r.createElement(n,r.__spread({},this.props,{className:"react-grid-HeaderCell__resizeHandle",style:this.style}))}}),u=r.createClass({displayName:"HeaderCell",propTypes:{renderer:l.oneOfType([l.func,l.element]).isRequired,column:l.shape(a).isRequired,onResize:l.func},render:function(){var e=i({"react-grid-HeaderCell":!0,"react-grid-HeaderCell--resizing":this.state.resizing,"react-grid-HeaderCell--locked":this.props.column.locked});e=i(e,this.props.className);var t=this.getCell();return r.createElement("div",{className:e,style:this.getStyle()},t,this.props.column.resizeable?r.createElement(c,{onDrag:this.onDrag,onDragStart:this.onDragStart,onDragEnd:this.onDragEnd}):null)},getCell:function(){return r.isValidElement(this.props.renderer)?r.addons.cloneWithProps(this.props.renderer,{column:this.props.column}):this.props.renderer({column:this.props.column})},getDefaultProps:function(){return{renderer:o}},getInitialState:function(){return{resizing:!1}},setScrollLeft:function(e){var t=this.getDOMNode();t.style.webkitTransform="translate3d("+e+"px, 0px, 0px)",t.style.transform="translate3d("+e+"px, 0px, 0px)"},getStyle:function(){return{width:this.props.column.width,left:this.props.column.left,display:"inline-block",position:"absolute",overflow:"hidden",height:this.props.height,margin:0,textOverflow:"ellipsis",whiteSpace:"nowrap"}},onDragStart:function(){this.setState({resizing:!0})},onDrag:function(e){var t=this.props.onResize||null;if(t){var s=this.getWidthFromMouseEvent(e);s>0&&t(this.props.column,s)}},onDragEnd:function(e){var t=this.getWidthFromMouseEvent(e);this.props.onResizeEnd(this.props.column,t),this.setState({resizing:!1})},getWidthFromMouseEvent:function(e){var t=e.pageX,s=this.getDOMNode().getBoundingClientRect().left;return t-s}});e.exports=u},function(e,t,s){"use strict";function o(){}var r=s(1),i=r.PropTypes,n=s(10),l=s(22),a=s(34),c=s(2),u=r.createClass({displayName:"HeaderRow",propTypes:{width:i.oneOf(i.number,i.string),height:i.number.isRequired,columns:i.arrayOf(c).isRequired,onColumnResize:i.func,style:i.shape(o)},render:function(){var e={width:this.props.width?this.props.width+a():"100%",height:this.props.height,whiteSpace:"nowrap",overflowX:"hidden",overflowY:"hidden"},t=this.getCells();return r.createElement("div",r.__spread({},this.props,{className:"react-grid-HeaderRow"}),r.createElement("div",{style:e},t))},getCells:function(){for(var e=[],t=[],s=0,o=this.props.columns.length;o>s;s++){var i=this.props.columns[s],n=r.createElement(l,{ref:s,key:s,height:this.props.height,column:i,renderer:this.props.headerCellRenderer||i.headerRenderer||this.props.cellRenderer,resizing:this.props.resizing===i,onResize:this.props.onColumnResize,onResizeEnd:this.props.onColumnResizeEnd});i.locked?t.push(n):e.push(n)}return e.concat(t)},setScrollLeft:function(e){for(var t=0,s=this.props.columns.length;s>t;t++)this.props.columns[t].locked&&this.refs[t].setScrollLeft(e)},shouldComponentUpdate:function(e){return e.width!==this.props.width||e.height!==this.props.height||e.columns!==this.props.columns||!n(e.style,this.props.style)},getStyle:function(){return{overflow:"hidden",width:"100%",height:this.props.height,position:"absolute"}}});e.exports=u},function(e){"use strict";var t={appendScrollShim:function(){if(!this._scrollShim){var e=this._scrollShimSize(),t=document.createElement("div");t.classList.add("react-grid-ScrollShim"),t.style.position="absolute",t.style.top=0,t.style.left=0,t.style.width=e.width+"px",t.style.height=e.height+"px",this.getDOMNode().appendChild(t),this._scrollShim=t}this._scheduleRemoveScrollShim()},_scrollShimSize:function(){return{width:this.props.width,height:this.props.length*this.props.rowHeight}},_scheduleRemoveScrollShim:function(){this._scheduleRemoveScrollShimTimer&&clearTimeout(this._scheduleRemoveScrollShimTimer),this._scheduleRemoveScrollShimTimer=setTimeout(this._removeScrollShim,200)},_removeScrollShim:function(){this._scrollShim&&(this._scrollShim.parentNode.removeChild(this._scrollShim),this._scrollShim=void 0)}};e.exports=t},function(e,t,s){"use strict";var o=s(1),r=s(15),i=o.PropTypes,n=s(26),l=o.createClass({displayName:"Viewport",mixins:[n],propTypes:{rowOffsetHeight:i.number.isRequired,totalWidth:i.number.isRequired,columns:i.shape({width:i.number.isRequired,columns:i.array.isRequired}),rows:i.oneOfType([i.array,i.func]).isRequired,selectedRows:i.array,expandedRows:i.array,rowRenderer:i.func,totalRows:i.number.isRequired,rowHeight:i.number.isRequired,onRows:i.func,onScroll:i.func},render:function(){var e={padding:0,bottom:0,left:0,right:0,overflow:"hidden",position:"absolute",top:this.props.rowOffsetHeight};return o.createElement("div",{className:"react-grid-Viewport",style:e},o.createElement(r,{ref:"canvas",totalWidth:this.props.totalWidth,width:this.props.columns.width,rows:this.props.rows,selectedRows:this.props.selectedRows,expandedRows:this.props.expandedRows,columns:this.props.columns.columns,rowRenderer:this.props.rowRenderer,visibleStart:this.state.visibleStart,visibleEnd:this.state.visibleEnd,displayStart:this.state.displayStart,displayEnd:this.state.displayEnd,cellMetaData:this.props.cellMetaData,totalRows:this.props.totalRows,height:this.state.height,rowHeight:this.props.rowHeight,onScroll:this.onScroll,onRows:this.props.onRows}))},getScroll:function(){return this.refs.canvas.getScroll()},onScroll:function(e){this.updateScroll(e.scrollTop,e.scrollLeft,this.state.height,this.props.rowHeight,this.props.totalRows),this.props.onScroll&&this.props.onScroll({scrollTop:e.scrollTop,scrollLeft:e.scrollLeft})},setScrollLeft:function(e){this.refs.canvas.setScrollLeft(e)}});e.exports=l},function(e,t,s){var o=s(1),r=s(5),i=(s(35),o.PropTypes,Math.min),n=Math.max,l=Math.floor,a=Math.ceil;e.exports={mixins:[r.MetricsMixin],DOMMetrics:{viewportHeight:function(){return this.getDOMNode().offsetHeight}},propTypes:{rowHeight:o.PropTypes.number,totalRows:o.PropTypes.number.isRequired},getDefaultProps:function(){return{rowHeight:30}},getInitialState:function(){return this.getGridState(this.props)},getGridState:function(e){var t=this.props.minHeight,s=a(t/e.rowHeight);return{displayStart:0,displayEnd:2*s,height:t,scrollTop:0,scrollLeft:0}},updateScroll:function(e,t,s,o,r){var c=a(s/o),u=l(e/o),p=i(u+c,r),h=n(0,u-2*c),d=i(u+2*c,r),f={visibleStart:u,visibleEnd:p,displayStart:h,displayEnd:d,height:s,scrollTop:e,scrollLeft:t};this.setState(f)},metricsUpdated:function(){var e=this.DOMMetrics.viewportHeight();e&&this.updateScroll(this.state.scrollTop,this.state.scrollLeft,e,this.props.rowHeight,this.props.totalRows)},componentWillReceiveProps:function(e){this.props.rowHeight!==e.rowHeight?this.setState(this.getGridState(e)):this.props.totalRows!==e.totalRows&&this.updateScroll(this.state.scrollTop,this.state.scrollLeft,this.state.height,e.rowHeight,e.totalRows)}}},function(){},function(e,t,s){"use strict";var o=s(1),r=o.addons.classSet,i=s(2),n=o.createClass({displayName:"SortableHeaderCell",propTypes:{column:o.PropTypes.shape(i).isRequired},onClick:function(){this.props.column.sortBy(this.props.column,this.props.column.sorted)},getSortByClass:function(){var e=this.props.column.sorted;return r({"pull-right":!0,"glyphicon glyphicon-arrow-up":"ASC"===e,"glyphicon glyphicon-arrow-down":"DESC"===e})},render:function(){return o.createElement("div",{onClick:this.onClick,style:{cursor:"pointer"}},this.props.column.name,o.createElement("span",{className:this.getSortByClass()}))}});e.exports=n},function(e,t,s){"use strict";var o=s(1),r=(o.addons.classSet,o.createClass({displayName:"CheckBoxEditor",PropTypes:{value:o.PropTypes.bool.isRequired,rowIdx:o.PropTypes.number.isRequired},render:function(){return o.createElement("input",{className:"react-grid-CheckBox",type:"checkbox",checked:this.props.value,onChange:this.handleChange})
},handleChange:function(){this.props.column.onRowSelect(this.props.rowIdx)},shouldComponentUpdate:function(e){return this.props.value!=e.value}}));e.exports=r},function(e,t,s){"use strict";var o=s(1),r=o.addons.classSet,i=s(3),n=s(12),l=s(32),a=(o.addons.cloneWithProps,o.createClass({displayName:"EditorContainer",mixins:[i],propTypes:{cellMetaData:o.PropTypes.func.isRequired,column:o.PropTypes.object.isRequired},getInitialState:function(){return{isInvalid:!1}},componentWillMount:function(){this.validateEditor()},componentDidMount:function(){var e=this.getInputNode();void 0!==e&&(this.setTextInputFocus(),e.className+=" editor-main",e.style.height=this.props.height-1+"px")},validateEditor:function(){this.props.column.editor},createEditor:function(){var e={ref:"editor",column:this.props.column,onKeyDown:this.onKeyDown,value:this.getInitialValue(),onCommit:this.commit,editorRowMetaData:this.getEditorRowMetaData(),height:this.props.height},t=this.props.column.editor;return t&&o.isValidElement(t)?o.addons.cloneWithProps(t,e):o.createElement(n,{ref:"editor",column:this.props.column,onKeyDown:this.onKeyDown,value:this.getInitialValue(),onBlur:this.commit,editorRowMetaData:this.getEditorRowMetaData()})},getEditorRowMetaData:function(){this.props.column.ItemId;return"function"==typeof this.props.column.getEditorRowMetaData?this.props.column.getEditorRowMetaData(this.props.rowData):void 0},onPressEnter:function(e){e.stopPropagation(),e.preventDefault(),this.commit({key:"Enter"})},onPressTab:function(e){e.stopPropagation(),e.preventDefault(),this.commit({key:"Tab"})},onPressArrowDown:function(e){this.editorHasResults()&&(e.stopPropagation(),e.preventDefault())},onPressArrowUp:function(e){this.editorHasResults()&&(e.stopPropagation(),e.preventDefault())},onPressArrowLeft:function(e){this.isCaretAtBeginningOfInput()||e.stopPropagation()},onPressArrowRight:function(e){this.isCaretAtEndOfInput()||e.stopPropagation()},editorHasResults:function(){return l(this.getEditor().hasResults)?this.getEditor().hasResults():!1},getEditor:function(){return this.refs.editor},commit:function(e){var t=this.getEditor().getValue();if(this.isNewValueValid(t)){var s=this.props.column.key;this.props.cellMetaData.onCommit({cellKey:s,rowIdx:this.props.rowIdx,updated:t,key:e.key})}},isNewValueValid:function(e){if(l(this.validate)){var t=this.validate(e);return this.setState({isInvalid:!t}),t}return!0},getInputNode:function(){return this.getEditor().getInputNode()},getInitialValue:function(){var e=this.props.cellMetaData.selected,t=e.initialKeyCode;if("Delete"===t||"Backspace"===t)return"";if("Enter"===t)return this.props.value;var s=t?String.fromCharCode(t):this.props.value;return s},getContainerClass:function(){return r({"has-error":this.state.isInvalid===!0})},renderStatusIcon:function(){return this.state.isInvalid===!0?o.createElement("span",{className:"glyphicon glyphicon-remove form-control-feedback"}):void 0},render:function(){return o.createElement("div",{className:this.getContainerClass()},this.createEditor(),this.renderStatusIcon())},setCaretAtEndOfInput:function(){var e=this.getInputNode(),t=e.value.length;if(e.setSelectionRange)e.setSelectionRange(t,t);else if(e.createTextRange){var s=e.createTextRange();s.moveStart("character",t),s.collapse(),s.select()}},isCaretAtBeginningOfInput:function(){var e=this.getInputNode();return 0===e.selectionStart},isCaretAtEndOfInput:function(){var e=this.getInputNode();return e.selectionStart===e.value.length},setTextInputFocus:function(){var e=this.props.cellMetaData.selected,t=e.initialKeyCode;this.isKeyPrintable(t)?this.getInputNode().select():(this.getInputNode().focus(),this.setCaretAtEndOfInput())}}));e.exports=a},function(e,t,s){"use strict";var o=s(1),r=(o.PropTypes,s(19)),i=(s(27),s(6)),n=s(2),l=(s(9),s(3)),a=s(29),c=s(28),u=(o.addons.cloneWithProps,{ASC:"ASC",DESC:"DESC"}),p=o.createClass({displayName:"ExcelGrid",propTypes:{rowHeight:o.PropTypes.number.isRequired,minHeight:o.PropTypes.number.isRequired,enableRowSelect:o.PropTypes.bool,onRowUpdated:o.PropTypes.func,rows:o.PropTypes.arrayOf(i).isRequired,toolbar:o.PropTypes.element,enableCellSelect:o.PropTypes.bool,columns:o.PropTypes.arrayOf(o.PropTypes.shape(n)).isRequired,onFilter:o.PropTypes.func,onCellCopyPaste:o.PropTypes.func,onCellsDragged:o.PropTypes.func},mixins:[l],getDefaultProps:function(){return{enableCellSelect:!1,tabIndex:-1,ref:"cell",rowHeight:35,enableRowSelect:!1,minHeight:350}},getInitialState:function(){var e={selectedRows:[],copied:null,expandedRows:[],canFilter:!1,columnFilters:{},sortDirection:null,sortColumn:null,dragged:null};return e.selected=this.props.enableCellSelect?{rowIdx:0,idx:0}:{rowIdx:-1,idx:-1},e},componentWillReceiveProps:function(e){e.rows.length===this.props.rows.length+1&&this.onAfterAddRow(e.rows.length+1)},render:function(){var e={selected:this.state.selected,onCellClick:this.onCellClick,onCommit:this.onCellCommit,copied:this.state.copied},t=this.filterRows(),s=this.renderToolbar();return o.createElement("div",{className:"react-grid-Container"},s,o.createElement("div",{className:"react-grid-Main"},o.createElement(r,o.__spread({ref:"base"},this.props,{length:this.props.rows.length,headerRows:this.getHeaderRows(),columns:this.getColumns(),rows:t,cellMetaData:e,selectedRows:this.state.selectedRows,expandedRows:this.state.expandedRows,rowOffsetHeight:this.getRowOffsetHeight(),minHeight:this.props.minHeight,onKeyDown:this.onKeyDown}))))},renderToolbar:function(){var e=this.props.toolbar;return o.isValidElement(e)?o.addons.cloneWithProps(e,{onToggleFilter:this.onToggleFilter,numberOfRows:this.props.rows.length}):void 0},onSelect:function(e){if(this.props.enableCellSelect){var t=e.idx,s=e.rowIdx;t>=0&&s>=0&&t<this.getColumns().length&&s<this.props.rows.length&&this.setState({selected:e})}},isSelected:function(){return this.props.selected&&this.props.selected.rowIdx===this.props.rowIdx&&this.props.selected.idx===this.props.idx},onCellClick:function(e){this.onSelect({rowIdx:e.rowIdx,idx:e.idx})},onPressArrowUp:function(e){this.moveSelectedCell(e,-1,0)},onPressArrowDown:function(e){this.moveSelectedCell(e,1,0)},onPressArrowLeft:function(e){this.moveSelectedCell(e,0,-1)},onPressArrowRight:function(e){this.moveSelectedCell(e,0,1)},onPressTab:function(e){this.moveSelectedCell(e,0,1)},onPressEnter:function(e){this.setActive(e.key)},onPressDelete:function(e){this.setActive(e.key)},onPressEscape:function(e){this.setInactive(e.key)},onPressBackspace:function(e){this.setActive(e.key)},onPressChar:function(e){this.isKeyPrintable(e.keyCode)&&this.setActive(e.keyCode)},onPressKeyWithCtrl:function(e){var t={KeyCode_c:"99",KeyCode_C:"67",KeyCode_V:"86",KeyCode_v:"118"},s=this.state.selected.idx;if(this.canEdit(s)){var o=this.getSelectedValue();e.keyCode==t.KeyCode_c||e.keyCode==t.KeyCode_C?this.handleCopy({value:o}):(e.keyCode==t.KeyCode_v||e.keyCode==t.KeyCode_V)&&this.handlePaste({value:o})}},moveSelectedCell:function(e,t,s){e.stopPropagation(),e.preventDefault();var o=this.state.selected.rowIdx+t,r=this.state.selected.idx+s;this.onSelect({idx:r,rowIdx:o})},getSelectedValue:function(){var e=this.state.selected.rowIdx,t=this.state.selected.idx,s=this.props.enableRowSelect?1:0,o=this.props.columns[t-s].key;return this.props.rows[e][o]},setActive:function(e){var t=this.state.selected.rowIdx,s=this.state.selected.idx;if("select-row"===this.props.columns[s].key&&this.props.columns[s].onRowSelect)this.props.column.onRowSelect(t);else if(this.canEdit(s)&&!this.isActive()){var o=Object.assign(this.state.selected,{idx:s,rowIdx:t,active:!0,initialKeyCode:e});this.setState({selected:o})}},setInactive:function(){var e=this.state.selected.rowIdx,t=this.state.selected.idx;if(this.canEdit(t)&&this.isActive()){var s=Object.assign(this.state.selected,{idx:t,rowIdx:e,active:!1});this.setState({selected:s})}},canEdit:function(e){return null!=this.props.columns[e].editor||this.props.columns[e].editable},isActive:function(){return this.state.selected.active===!0},onCellCommit:function(e){var t=Object.assign({},this.state.selected);t.active=!1,"Tab"===e.keyCode&&(t.idx+=1);var s=this.state.expandedRows;e.changed&&e.changed.expandedHeight&&(s=this.expandRow(e.rowIdx,e.changed.expandedHeight)),this.setState({selected:t,expandedRows:s}),this.props.onRowUpdated(e)},getColumns:function(){var e=this.getDecoratedColumns(this.props.columns);return this.props.enableRowSelect&&e.unshift({key:"select-row",name:"",formatter:o.createElement(a,null),onRowSelect:this.handleRowSelect,filterable:!1,headerRenderer:o.createElement("input",{type:"checkbox",onChange:this.handleCheckboxChange}),width:60}),e},handleCheckboxChange:function(e){if(e.currentTarget instanceof HTMLInputElement&&e.currentTarget.checked===!0){var t=this.props.rows.map(function(){return!0});this.setState({selectedRows:t})}else{var t=this.props.rows.map(function(){return!1});this.setState({selectedRows:t})}},handleRowSelect:function(e){var t=this.state.selectedRows;t[e]=null==t[e]||0==t[e]?!0:!1,this.setState({selectedRows:t})},expandRow:function(e,t){var s=this.state.expandedRows;return s[e]?(null==s[e]||s[e]<t)&&(s[e]=t):s[e]=t,s},addRow:function(){},handleShowMore:function(e,t){var s=this.expandRow(e,t);this.setState({expandedRows:s})},handleShowLess:function(e){var t=this.state.expandedRows;t[e]&&(t[e]=!1),this.setState({expandedRows:t})},expandAllRows:function(){},collapseAllRows:function(){},onAfterAddRow:function(e){this.setState({selected:{idx:1,rowIdx:e-2}}),this.refs.base.refs.viewport.refs.canvas.getDOMNode().scrollTop=e*this.props.rowHeight},filterRows:function(){var e=this.props.rows;return this.state.sortColumn&&(e=this.sortRows(e)),this.hasFilters()&&(e=e.map(function(e,t){return e.key=t,e}).filter(this.isRowDisplayed),this.props.onFilter&&this.props.onFilter(e)),e},hasFilters:function(){var e=!1;return Object.keys(this.state.columnFilters).every(function(t){var s=this.state.columnFilters[t];return null!=s&&void 0!=s&&""!=s?(e=!0,!1):!0},this),e},isRowDisplayed:function(e){var t=null;return Object.keys(this.state.columnFilters).every(function(s){var o=this.state.columnFilters[s].toLowerCase(),r=e[s].toString().toLowerCase();if(null!=o&&void 0!=o&&""!=o&&"string"==typeof r){if(!(r.indexOf(o)>-1))return t=!1,!1;t=!0}return!0},this),null==t?!1:t},onToggleFilter:function(){this.setState({canFilter:!this.state.canFilter})},handleAddFilter:function(e){var t=this.state.columnFilters;t[e.columnKey]=e.filterTerm,this.setState({columnFilters:t,selected:null})},getHeaderRows:function(){var e=[{ref:"row",height:this.props.rowHeight}];return this.state.canFilter===!0&&e.push({ref:"filterRow",headerCellRenderer:o.createElement(FilterableHeaderCell,{onChange:this.handleAddFilter,column:this.props.column}),height:45}),e},getRowOffsetHeight:function(){var e=0;return this.getHeaderRows().forEach(function(t){return e+=t.height}),e},getDecoratedColumns:function(){return this.props.columns.map(function(e){return e=Object.assign({},e),e.sortable&&(e.headerRenderer=o.createElement(c,{column:e}),e.sortBy=this.sortBy,e.sorted=this.state.sortColumn===e.key?this.state.sortDirection:u.NONE),e},this)},sortBy:function(e,t){switch(t){case null:case void 0:t=u.ASC;break;case u.ASC:t=u.DESC;break;case u.DESC:t=null}this.setState({sortDirection:t,sortColumn:e.key})},sortRows:function(e){e=[].concat(e);var t=this.state.sortColumn,s=this.state.sortDirection;return null!=t&&null!==s?e.sort(function(e,o){var r=e[t],i=o[t];return s===u.ASC?r>i?1:i>r?-1:0:s===u.DESC?r>i?-1:i>r?1:0:void 0}):e},copyPasteEnabled:function(){return null!==this.props.onCellCopyPaste},handleCopy:function(e){if(this.copyPasteEnabled()){var t=e.value,s=this.state.selected,o={idx:s.idx,rowIdx:s.rowIdx};this.setState({textToCopy:t,copied:o})}},handlePaste:function(){if(this.copyPasteEnabled()){var e=this.state.selected,t=this.getColumns()[e.idx].key;this.props.onCellCopyPaste&&this.props.onCellCopyPaste({cellKey:t,rowIdx:e.rowIdx,value:this.state.textToCopy,fromRow:this.state.copied.rowIdx,toRow:e.rowIdx}),this.setState({copied:null})}},dragEnabled:function(){return null!==this.props.onCellsDragged},handleDragStart:function(e){if(this.dragEnabled()){var t=e.idx,s=e.rowIdx;t>=0&&s>=0&&t<this.getColumns().length&&s<this.props.rows.length&&this.setState({dragged:e})}},handleDragEnter:function(e){if(this.dragEnabled()){var t=(this.state.selected,this.state.dragged);t.overRowIdx=e,this.setState({dragged:t})}},handleDragEnd:function(){if(this.dragEnabled()){var e,t,s=this.state.selected,o=this.state.dragged,r=this.getColumns()[this.state.selected.idx].key;e=s.rowIdx<o.overRowIdx?s.rowIdx:o.overRowIdx,t=s.rowIdx>o.overRowIdx?s.rowIdx:o.overRowIdx,this.props.onCellsDragged&&this.props.onCellsDragged({cellKey:r,fromRow:e,toRow:t,value:o.copiedText}),this.setState({dragged:{complete:!0}})}},handleTerminateDrag:function(){this.dragEnabled()&&this.setState({dragged:null})}});e.exports=p},function(e){"use strict";var t=function(e){var t={};return e&&"[object Function]"===t.toString.call(e)};e.exports=t},function(e,t,s){(function(t){"use strict";function s(e,s,o,r,i,n,l){if(e=e||{},t.env.NODE_ENV&&l)throw new Error("Too many arguments passed to copyProperties");for(var a,c=[s,o,r,i,n],u=0;c[u];){a=c[u++];for(var p in a)e[p]=a[p];a.hasOwnProperty&&a.hasOwnProperty("toString")&&"undefined"!=typeof a.toString&&e.toString!==a.toString&&(e.toString=a.toString)}return e}e.exports=s}).call(t,s(14))},function(e){"use strict";function t(){if(void 0===s){var e=document.createElement("div");e.style.width="50px",e.style.height="50px",e.style.overflowY="scroll",e.style.position="absolute",e.style.top="-200px",e.style.left="-200px";var t=document.createElement("div");t.style.height="100px",t.style.width="100%",e.appendChild(t),document.body.appendChild(e);var o=e.clientWidth,r=t.clientWidth;document.body.removeChild(e),s=o-r}return s}var s;e.exports=t},function(e){"use strict";function t(){var e=window.innerWidth,t=window.innerHeight;return e&&t||(e=document.documentElement.clientWidth,t=document.documentElement.clientHeight),e&&t||(e=document.body.clientWidth,t=document.body.clientHeight),{width:e,height:t}}e.exports=t},function(e,t,s){!function(t,o){e.exports=o(s(1))}(this,function(e){return function(e){function t(o){if(s[o])return s[o].exports;var r=s[o]={exports:{},id:o,loaded:!1};return e[o].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var s={};return t.m=e,t.c=s,t.p="",t(0)}([function(e,t,s){"use strict";function o(e,t,s){if(!e)return s(null,[]);t=new RegExp(t,"i");for(var o=[],r=0,i=e.length;i>r;r++)t.exec(e[r].title)&&o.push(e[r]);s(null,o)}var r=s(1),i=r.addons.classSet,n=r.createClass({displayName:"Autocomplete",propTypes:{options:r.PropTypes.any,search:r.PropTypes.func,resultRenderer:r.PropTypes.oneOfType([r.PropTypes.component,r.PropTypes.func]),value:r.PropTypes.object,onChange:r.PropTypes.func,onError:r.PropTypes.func},getDefaultProps:function(){return{search:o}},getInitialState:function(){var e=this.props.searchTerm?this.props.searchTerm:this.props.value?this.props.value.title:"";return{results:[],showResults:!1,showResultsInProgress:!1,searchTerm:e,focusedValue:null}},getResultIdentifier:function(e){return void 0===this.props.resultIdentifier?e.id:e[this.props.resultIdentifier]},render:function(){var e=i(this.props.className,"react-autocomplete-Autocomplete",this.state.showResults?"react-autocomplete-Autocomplete--resultsShown":void 0),t={position:"relative",outline:"none"};return r.createElement("div",{tabIndex:"1",className:e,onFocus:this.onFocus,onBlur:this.onBlur,style:t},r.createElement("input",{ref:"search",className:"react-autocomplete-Autocomplete__search",style:{width:"100%"},onClick:this.showAllResults,onChange:this.onQueryChange,onFocus:this.showAllResults,onBlur:this.onQueryBlur,onKeyDown:this.onQueryKeyDown,value:this.state.searchTerm}),r.createElement(l,{className:"react-autocomplete-Autocomplete__results",onSelect:this.onValueChange,onFocus:this.onValueFocus,results:this.state.results,focusedValue:this.state.focusedValue,show:this.state.showResults,renderer:this.props.resultRenderer,label:this.props.label,resultIdentifier:this.props.resultIdentifier}))},componentWillReceiveProps:function(e){var t=e.searchTerm?e.searchTerm:e.value?e.value.title:"";this.setState({searchTerm:t})},componentWillMount:function(){this.blurTimer=null},showResults:function(e){this.setState({showResultsInProgress:!0}),this.props.search(this.props.options,e.trim(),this.onSearchComplete)},showAllResults:function(){this.state.showResultsInProgress||this.state.showResults||this.showResults("")},onValueChange:function(e){var t={value:e,showResults:!1};e&&(t.searchTerm=e.title),this.setState(t),this.props.onChange&&this.props.onChange(e)},onSearchComplete:function(e,t){if(e){if(!this.props.onError)throw e;this.props.onError(e)}this.setState({showResultsInProgress:!1,showResults:!0,results:t})},onValueFocus:function(e){this.setState({focusedValue:e})},onQueryChange:function(e){var t=e.target.value;this.setState({searchTerm:t,focusedValue:null}),this.showResults(t)},onFocus:function(){this.blurTimer&&(clearTimeout(this.blurTimer),this.blurTimer=null),this.refs.search.getDOMNode().focus()},onBlur:function(){this.blurTimer=setTimeout(function(){this.isMounted()&&this.setState({showResults:!1})}.bind(this),100)},onQueryKeyDown:function(e){if("Enter"===e.key)e.preventDefault(),this.state.focusedValue&&this.onValueChange(this.state.focusedValue);else if("ArrowUp"===e.key&&this.state.showResults){e.preventDefault();var t=Math.max(this.focusedValueIndex()-1,0);this.setState({focusedValue:this.state.results[t]})}else if("ArrowDown"===e.key)if(e.preventDefault(),this.state.showResults){var s=Math.min(this.focusedValueIndex()+(this.state.showResults?1:0),this.state.results.length-1);this.setState({showResults:!0,focusedValue:this.state.results[s]})}else this.showAllResults()},focusedValueIndex:function(){if(!this.state.focusedValue)return-1;for(var e=0,t=this.state.results.length;t>e;e++)if(this.getResultIdentifier(this.state.results[e])===this.getResultIdentifier(this.state.focusedValue))return e;return-1}}),l=r.createClass({displayName:"Results",getResultIdentifier:function(e){if(void 0===this.props.resultIdentifier){if(!e.id)throw"id property not found on result. You must specify a resultIdentifier and pass as props to autocomplete component";return e.id}return e[this.props.resultIdentifier]},render:function(){var e={display:this.props.show?"block":"none",position:"absolute",listStyleType:"none"},t=this.props,s=t.className,o=function(e,t){var s={},o=Object.prototype.hasOwnProperty;if(null==e)throw new TypeError;for(var r in e)o.call(e,r)&&!o.call(t,r)&&(s[r]=e[r]);return s}(t,{className:1});return r.createElement("ul",r.__spread({},o,{style:e,className:s+" react-autocomplete-Results"}),this.props.results.map(this.renderResult))},renderResult:function(e){var t=this.props.focusedValue&&this.getResultIdentifier(this.props.focusedValue)===this.getResultIdentifier(e),s=this.props.renderer||a;return s({ref:t?"focused":void 0,key:this.getResultIdentifier(e),result:e,focused:t,onMouseEnter:this.onMouseEnterResult,onClick:this.props.onSelect,label:this.props.label})},componentDidUpdate:function(){this.scrollToFocused()},componentDidMount:function(){this.scrollToFocused()},componentWillMount:function(){this.ignoreFocus=!1},scrollToFocused:function(){var e=this.refs&&this.refs.focused;if(e){var t=this.getDOMNode(),s=t.scrollTop,o=t.offsetHeight,r=e.getDOMNode(),i=r.offsetTop,n=i+r.offsetHeight;s>i?(this.ignoreFocus=!0,t.scrollTop=i):n-s>o&&(this.ignoreFocus=!0,t.scrollTop=n-o)}},onMouseEnterResult:function(e,t){if(this.ignoreFocus)this.ignoreFocus=!1;else{var s=this.getDOMNode(),o=s.scrollTop,r=s.offsetHeight,i=e.target,n=i.offsetTop,l=n+i.offsetHeight;l>o&&o+r>n&&this.props.onFocus(t)}}}),a=r.createClass({displayName:"Result",getDefaultProps:function(){return{label:function(e){return e.title}}},getLabel:function(e){return"function"==typeof this.props.label?this.props.label(e):"string"==typeof this.props.label?e[this.props.label]:void 0},render:function(){var e=i({"react-autocomplete-Result":!0,"react-autocomplete-Result--active":this.props.focused});return r.createElement("li",{style:{listStyleType:"none"},className:e,onClick:this.onClick,onMouseEnter:this.onMouseEnter},r.createElement("a",null,this.getLabel(this.props.result)))},onClick:function(){this.props.onClick(this.props.result)},onMouseEnter:function(e){this.props.onMouseEnter&&this.props.onMouseEnter(e,this.props.result)},shouldComponentUpdate:function(e){return e.result.id!==this.props.result.id||e.focused!==this.props.focused}});e.exports=n},function(t){t.exports=e}])})},function(e,t,s){"use strict";var o=s(1),r=(o.addons.classSet,s(36)),i=(s(3),s(2)),n=o.PropTypes.shape({id:o.PropTypes.required,title:o.PropTypes.string}),l=o.createClass({displayName:"AutoCompleteEditor",propTypes:{onCommit:o.PropTypes.func.isRequired,options:o.PropTypes.arrayOf(n).isRequired,label:o.PropTypes.string,value:o.PropTypes.any.isRequired,valueParams:o.PropTypes.arrayOf(o.PropTypes.string),column:o.PropTypes.shape(i).isRequired,resultIdentifier:o.PropTypes.string,search:o.PropTypes.string},getDefaultProps:function(){return{resultIdentifier:"id"}},getValue:function(){var e,t={};return this.hasResults()&&this.isFocusedOnSuggestion()?(e=this.getLabel(this.refs.autoComplete.state.focusedValue),this.props.valueParams&&(e=this.constuctValueFromParams(this.refs.autoComplete.state.focusedValue,this.props.valueParams))):e=this.refs.autoComplete.state.searchTerm,t[this.props.column.key]=e,t},getInputNode:function(){return this.getDOMNode().getElementsByTagName("input")[0]},render:function(){var e=null!=this.props.label?this.props.label:"title";return o.createElement("div",{height:this.props.height,onKeyDown:this.props.onKeyDown},o.createElement(r,{search:this.props.search,ref:"autoComplete",label:e,resultIdentifier:this.props.resultIdentifier,options:this.props.options,value:{title:this.props.value}}))},hasResults:function(){return this.refs.autoComplete.state.results.length>0},isFocusedOnSuggestion:function(){var e=this.refs.autoComplete;return null!=e.state.focusedValue},getLabel:function(e){var t=null!=this.props.label?this.props.label:"title";return"function"==typeof t?t(e):"string"==typeof t?e[t]:void 0},constuctValueFromParams:function(e,t){if(!t)return"";for(var s=[],o=0,r=t.length;r>o;o++)s.push(e[t[o]]);return s.join("|")}});e.exports=l},function(e,t,s){"use strict";var o=s(1),r=(o.addons.classSet,o.createClass({displayName:"DropDownEditor",propTypes:{options:o.PropTypes.arrayOf(o.PropTypes.string).isRequired,value:o.PropTypes.string.isRequired,commit:o.PropTypes.func.isRequired},getStyle:function(){return{width:"100%"}},render:function(){return o.createElement("select",{ref:"select",style:this.getStyle(),defaultValue:this.props.value,onChange:this.onChange},this.renderOptions())},renderOptions:function(){var e=[];return this.props.options.forEach(function(t){e.push(o.createElement("option",{key:t,value:t},t))},this),e},getValue:function(){var e={};return e[this.props.column.key]=this.refs.select.getDOMNode().value,e},getInputNode:function(){return this.refs.select.getDOMNode()},onChange:function(){this.props.onCommit({key:"Enter"})},onClick:function(e){e.stopPropagation(),e.preventDefault()}}));e.exports=r},function(e,t,s){var o={AutoComplete:s(37),DropDownEditor:s(38),SimpleTextEditor:s(12)};e.exports=o},function(e,t,s){var o=s(1),r={},i={},n=o.createClass({displayName:"ImageFormatter",propTypes:{src:o.PropTypes.string.isRequired},getInitialState:function(){return{ready:!1}},componentWillMount:function(){this._load(this.props.src)},componentWillReceiveProps:function(e){e.src!==this.props.src&&(this.setState({src:null}),this._load(e.src))},render:function(){var e=this.state.src?{backgroundImage:"url("+this.state.src+")"}:void 0;return o.createElement("div",{className:"react-grid-image",style:e})},_load:function(e){if(i[e])return void this.setState({src:e});if(r[e])return void r[e].push(this._onLoad);r[e]=[this._onLoad];var t=new Image;t.onload=function(){r[e].forEach(function(t){t(e)}),delete r[e],t.onload=null,e=void 0},t.src=e},_onLoad:function(e){this.isMounted()&&e===this.props.src&&this.setState({src:e})}});e.exports=n},function(e,t,s){var o=s(40),r={ImageFormatter:o};e.exports=r},function(e,t,s){"use strict";var o=s(1),r=(s(6),o.createClass({displayName:"Toolbar",propTypes:{onAddRow:o.PropTypes.func.isRequired,onToggleFilter:o.PropTypes.func.isRequired,numberOfRows:o.PropTypes.number.isRequired},onAddRow:function(){this.props.onAddRow&&this.props.onAddRow({newRowIndex:this.props.numberOfRows})},getDefaultProps:function(){return{enableAddRow:!0}},getAddRowButton:function(){return this.props.enableAddRow?o.createElement("button",{type:"button",className:"btn",onClick:this.onAddRow},"Add Row"):void 0},render:function(){return o.createElement("div",{className:"react-grid-Toolbar"},o.createElement("div",{className:"tools"},this.getAddRowButton(),o.createElement("button",{type:"button",className:"btn",onClick:this.props.onToggleFilter},"Filter Rows")))}}));e.exports=r}])});